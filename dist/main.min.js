"use strict";var config={content:{t:"content"}},utils={o:async e=>new Promise(t=>setTimeout(t,e)),s:e=>e.indexOf("://")<1&&0!==e.indexOf("//"),l:e=>0===e.indexOf("/")?e.substring(1):e,i:()=>window.navigator.appVersion.includes("Mac"),u:e=>{let t=utils.l(e);return""===t&&(t="index"),`${config.content.t}/${t}.html`},async m(e){const t=await fetch(e);if(t.status>=400&&t.status<600)throw new Error("File not found");return await t.text()},h:()=>{const e=[...elements.p.querySelectorAll("a")];e.filter(e=>utils.l(e.getAttribute("href"))===utils.l(route.path)).forEach(e=>{e.classList.add("active-link")}),e.filter(e=>utils.l(e.getAttribute("href"))!==utils.l(route.path)).forEach(e=>{e.classList.remove("active-link")})}},elements={v:{},k:(e,t)=>elements.v[e]=document.querySelector(t),get body(){return elements.v.body||elements.k("body","body")},get p(){return elements.v.p||elements.k("nav","#nav")},get g(){return elements.v.g||elements.k("contentNode","#content")}},route={get path(){return window.location.pathname},set path(e){route.path!==e&&history.pushState("",e,e)}},nodes={F:(e,t)=>e.appendChild(t),N:e=>{for(;e.firstChild;)e.firstChild.remove()},H:e=>{const t=document.createElement("template");return t.innerHTML=e,t.content.childNodes},L:(e,t)=>{nodes.N(e),nodes.H(t).forEach(t=>nodes.F(e,t))}},load={async content(e){const t=utils.u(e),n=await utils.m(t).catch(t=>{if("/404"!==e)return load.content("/404");throw new Error(t)});n&&(elements.body.classList.add("fade"),await utils.o(320),nodes.L(elements.g,n),route.path=e,elements.body.classList.remove("fade"))},async p(){const e=utils.u("/nav"),t=await utils.m(e).catch(e=>{throw new Error(e)});t&&nodes.L(elements.p,t)}},hooks={P:()=>{const e=performance.now();Promise.all([load.content(route.path),load.p()]).then(()=>{utils.h();const t=performance.now()-e;t>4e3?elements.body.classList.remove("splash-loading"):setTimeout(()=>{elements.body.classList.remove("splash-loading")},4e3-t)})},onclick:e=>{if(e.clientX&&e.clientY&&elements.body.classList.remove("keyboard-nav"),!e.target.matches("a"))return;const t=e.target.getAttribute("href");if(t&&utils.s(t)){const n=utils.i()&&e.metaKey||!utils.i()&&e.ctrlKey,o=e.shiftKey;if(n||o)return;e.preventDefault(),elements.p.querySelector("input").checked=!1,load.content(t).then(()=>{utils.h()})}},onpopstate:e=>{e.preventDefault(),load.content(route.path).then(()=>{utils.h()})},onkeyup:e=>{9===e.which&&elements.body.classList.add("keyboard-nav"),27===e.which&&elements.p.querySelector("input").checked&&(elements.p.querySelector("input").checked=!1)}};window.onload=hooks.P,window.onclick=hooks.onclick,window.onpopstate=hooks.onpopstate,window.onkeyup=hooks.onkeyup;